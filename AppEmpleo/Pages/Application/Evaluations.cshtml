@page
@model AppEmpleo.Pages.Application.EvaluationsModel
@{
    Layout = "~/Pages/Shared/_LayoutSession.cshtml";

}

@section Styles {
    <link rel="stylesheet" href="~/css/pages/application-evaluations.css" asp-append-version="true" />
}

<div class="evaluation">
    <h2 class="evaluation__title">Received applications</h2>

@if (Model.AllApplications.Count <= 0)
{
    <p>No applications yet.</p>
}
else
{
    <div class="evaluation__grid">
        @foreach (var application in Model.AllApplications)
        {
            <div class="card evaluation-card">
                <h3 class="evaluation-card__title">@application.Candidate.User.FirstName @application.Candidate.User.LastName</h3>
                <div class="evaluation-card__meta"><strong>Offer:</strong> @application.JobOffer.JobTitle</div>
                <div class="evaluation-card__meta"><strong>Date:</strong> @application.AppliedAt.ToString("dd/MM/yyyy")</div>
                <div class="evaluation-card__actions">
                    <a class="evaluation-card__link" asp-page-handler="DownloadResume" asp-route-resumeId="@application.ResumeId">Download CV</a>
                </div>
            </div>
        }
    </div>
}

</div>
